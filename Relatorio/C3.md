# Elaboração
##Planeamento
À semelhança da Parte 2, foi novamente realizado um documento de rascunho e apoio à criação e ligação dos recursos da API

## API
### Criação
Para a criação da API aravés do Loopack4 foram seguidas as orientações do [tutorial](https://moodle.maieutica.pt/pluginfile.php/248745/mod_resource/content/1/INF-DW1-06_Loopback4_01.pdf) fornecido pelo docente.

Foram então criados os seguintes modelos, respetivos repositórios e controladores:   
- Users - [Modelo](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/models/users.model.ts) | [Controlador](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/controllers/users.controller.ts) | [Repositório](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/repositories/users.repository.ts)
- Characters - [Modelo](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/models/characters.model.ts) | [Controlador](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/controllers/characters.controller.ts) | [Repositório](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/repositories/characters.repository.ts)
- Medias - [Modelo](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/models/medias.model.ts) | [Controlador](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/controllers/medias.controller.ts) | [Repositório](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/repositories/medias.repository.ts)
- Types - [Modelo](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/models/types.model.ts) | [Controlador](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/controllers/types.controller.ts) | [Repositório](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/repositories/types.repository.ts)
- Posts - [Modelo](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/models/posts.model.ts) | [Controlador](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/controllers/posts.controller.ts) | [Repositório](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/repositories/posts.repository.ts)
- Comments - [Modelo](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/models/comments.model.ts) | [Controlador](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/controllers/comments.controller.ts) | [Repositório](https://github.com/inf24dw1g09/DW-Avaliacao-Final/blob/Parte-3/src/lb4-cosplay/src/repositories/comments.repository.ts)

### Ligações 
Ainda seguindo o mesmo [tutorial](https://moodle.maieutica.pt/pluginfile.php/248745/mod_resource/content/1/INF-DW1-06_Loopback4_01.pdf), foram geradas relações entre os modelos de acordo com os objetivos pretendidos para a API. 

|  | Users | Characters | Media | Types | Posts | Comments | 
| :----: | :----: | :----: | :----: | :----: | :----: | :----: | 
| **Users** |  |  |  |  | hasMany | hasMany |
| **Characters** |  |  | hasOne |  | hasMany |  |
| **Media** |  | belongsTo |  | hasOne | |  |
| **Types** |  |  | belongsTo |  |  |
| **Posts** | belongsTo | belongsTo |  |  |  | hasMany |
| **Comments** | belongsTo |  |  |  | belongsTo |   |  

### Conexão à base de dados
O método de conexão à base de dados do tutorial que foi seguido durante as fases anteriores gerou alguns erros e dificuldades a receber a informação, pelo que se optou por um [método](https://loopback.io/doc/en/lb4/Connecting-to-MySQL.html) alternativo de ligação ao próprio mysql. Após estes passos, a API demonstrava receber a informação sem problemas através métodos GET.

> Uma vez que todos estes ficheiros foram gerados automaticamente, foram posteriormente realizadas alterações de forma a melhor corresponder às necessidades do projeto ou corrigir alguns erros. 

---

## Web App
### Preparação
Nesta fase foi seguido o tutorial fornecido pelo docente, no entanto imediatamente no primeiro passo surgiram dificuldades, esplicadas em maior detalhe no respetivo capitulo. Ultrapassadas as dificuldados foram apenas seguidos os passos seguintes do documento. 

### Ligação à API
De seguida foram seguidos os passos relativos à ligação do loopback4 à Web App e introduzidos os recursos relativos ao projeto.

---

>Depois deste passo não houve progresso. Apesar de funcional, a API não foi construída de forma adequada ao projeto e à base de dados, no entanto não sobrou tempo para reiniciar o processo e foi necessário avançar. Dados os erros de contrução, a Web App não recebe a informação corretamente. 

